<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resso - Шаблоны сайтов</title>
    <!-- Tailwind CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Alpine.js -->
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <style>
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .sidebar {
            width: 280px;
            transition: all 0.3s ease;
        }
        .sidebar.collapsed {
            width: 80px;
        }
        .main-content {
            transition: all 0.3s ease;
            margin-left: 280px;
        }
        .main-content.expanded {
            margin-left: 80px;
        }
        .header-content {
            transition: all 0.3s ease;
            margin-left: 280px;
        }
        .header-content.expanded {
            margin-left: 80px;
        }
        .nav-item {
            transition: all 0.2s ease;
        }
        .nav-item:hover {
            transform: translateX(4px);
        }
        .nav-item.active {
            background: linear-gradient(90deg, #EBF5FF 0%, #E0F2FE 100%);
        }
        .template-card {
            transition: all 0.3s ease;
        }
        .template-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .grid-view {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
        }
        @media (max-width: 1280px) {
            .grid-view {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                position: fixed;
                z-index: 50;
            }
            .sidebar.active {
                transform: translateX(0);
            }
            .main-content {
                margin-left: 0 !important;
            }
            .header-content {
                margin-left: 0 !important;
            }
            .grid-view {
                grid-template-columns: 1fr;
            }
            .template-card .flex {
                flex-direction: column;
            }
            .template-card .w-64 {
                width: 100%;
            }
        }
        .mobile-menu-button {
            display: none;
        }
        @media (max-width: 768px) {
            .mobile-menu-button {
                display: block;
            }
        }
    </style>
</head>
<body class="h-screen bg-gray-50 flex" style="font-family: system-ui, -apple-system, sans-serif;">
    <div x-data="templatesPage()">
        <!-- Mobile Menu Button -->
        <button class="mobile-menu-button fixed top-4 left-4 z-50 p-2 bg-white rounded-lg shadow-md lg:hidden" @click="isSidebarOpen = !isSidebarOpen">
            <i data-lucide="menu" class="w-6 h-6"></i>
        </button>

        <!-- Header -->
        <header class="bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between fixed top-0 left-0 right-0 z-50 shadow-sm">
            <div class="flex items-center space-x-4">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-sm">R</span>
                    </div>
                    <span class="font-semibold text-gray-900">Resso</span>
                </div>
            </div>
            <div class="flex items-center space-x-4">
                <div class="relative">
                    <i data-lucide="search" class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"></i>
                    <input type="text" 
                           placeholder="Поиск шаблонов..." 
                           class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-64"
                           x-model="search">
                </div>
                <div class="flex space-x-2">
                    <button class="p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors" 
                            :class="{'bg-blue-50 text-blue-600': viewMode === 'grid'}" 
                            @click="viewMode = 'grid'">
                        <i data-lucide="grid" class="w-5 h-5"></i>
                    </button>
                    <button class="p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors" 
                            :class="{'bg-blue-50 text-blue-600': viewMode === 'list'}" 
                            @click="viewMode = 'list'">
                        <i data-lucide="list" class="w-5 h-5"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Sidebar -->
        <aside class="w-64 bg-white border-r border-gray-200 p-4 space-y-6 fixed left-0 top-14 bottom-0 overflow-y-auto no-scrollbar z-40 transition-transform duration-300"
               :class="{'translate-x-0': isSidebarOpen, '-translate-x-full': !isSidebarOpen}">
            <!-- Навигация -->
            <div class="pt-2">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-sm font-medium text-gray-900">Навигация</h3>
                </div>
                <div class="space-y-1.5">
                    <a href="index.html" class="nav-item flex items-center space-x-2 px-3 py-2.5 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors">
                        <i data-lucide="home" class="w-4 h-4 flex-shrink-0"></i>
                        <span>Главная</span>
                    </a>
                    <a href="create.html" class="nav-item flex items-center space-x-2 px-3 py-2.5 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors">
                        <i data-lucide="plus-circle" class="w-4 h-4 flex-shrink-0"></i>
                        <span>Создать сайт</span>
                    </a>
                    <a href="#" class="nav-item active flex items-center space-x-2 px-3 py-2.5 text-blue-600 rounded-lg bg-blue-50">
                        <i data-lucide="layout" class="w-4 h-4 flex-shrink-0"></i>
                        <span>Шаблоны</span>
                    </a>
                    <a href="#" class="nav-item flex items-center space-x-2 px-3 py-2.5 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors">
                        <i data-lucide="help-circle" class="w-4 h-4 flex-shrink-0"></i>
                        <span>Помощь</span>
                    </a>
                </div>
            </div>

            <!-- Фильтры -->
            <div class="pt-4 border-t border-gray-100">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-sm font-medium text-gray-900">Фильтры</h3>
                </div>
                <div class="space-y-4">
                    <!-- Категории -->
                    <div>
                        <label class="text-sm font-medium text-gray-700 mb-2 block">Категории</label>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2 hover:bg-gray-50 p-1 rounded cursor-pointer">
                                <input type="checkbox" class="rounded text-blue-600" x-model="filters.categories" value="красота">
                                <span class="text-sm text-gray-600">Красота</span>
                            </label>
                            <label class="flex items-center space-x-2 hover:bg-gray-50 p-1 rounded cursor-pointer">
                                <input type="checkbox" class="rounded text-blue-600" x-model="filters.categories" value="рестораны">
                                <span class="text-sm text-gray-600">Рестораны</span>
                            </label>
                            <label class="flex items-center space-x-2 hover:bg-gray-50 p-1 rounded cursor-pointer">
                                <input type="checkbox" class="rounded text-blue-600" x-model="filters.categories" value="бизнес">
                                <span class="text-sm text-gray-600">Бизнес</span>
                            </label>
                            <label class="flex items-center space-x-2 hover:bg-gray-50 p-1 rounded cursor-pointer">
                                <input type="checkbox" class="rounded text-blue-600" x-model="filters.categories" value="магазины">
                                <span class="text-sm text-gray-600">Магазины</span>
                            </label>
                        </div>
                    </div>

                    <!-- Цена -->
                    <div>
                        <label class="text-sm font-medium text-gray-700 mb-2 block">Цена</label>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2 hover:bg-gray-50 p-1 rounded cursor-pointer">
                                <input type="radio" name="price" class="text-blue-600" x-model="filters.price" value="free">
                                <span class="text-sm text-gray-600">Бесплатно</span>
                            </label>
                            <label class="flex items-center space-x-2 hover:bg-gray-50 p-1 rounded cursor-pointer">
                                <input type="radio" name="price" class="text-blue-600" x-model="filters.price" value="paid">
                                <span class="text-sm text-gray-600">Платные</span>
                            </label>
                            <label class="flex items-center space-x-2 hover:bg-gray-50 p-1 rounded cursor-pointer">
                                <input type="radio" name="price" class="text-blue-600" x-model="filters.price" value="all">
                                <span class="text-sm text-gray-600">Все</span>
                            </label>
                        </div>
                    </div>

                    <!-- Популярность -->
                    <div>
                        <label class="text-sm font-medium text-gray-700 mb-2 block">Популярность</label>
                        <select class="w-full rounded-lg border-gray-300 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500" x-model="filters.popularity">
                            <option value="all">Все</option>
                            <option value="popular">Популярные</option>
                            <option value="new">Новые</option>
                            <option value="trending">В тренде</option>
                        </select>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <div class="main-content flex-1">
            <!-- Templates Content -->
            <div class="flex flex-1 overflow-hidden pt-16">
                <main class="flex-1 overflow-auto p-6">
                    <!-- Templates List -->
                    <div :class="viewMode === 'grid' ? 'grid-view' : 'space-y-6'">
                        <template x-for="template in filteredTemplates" :key="template.id">
                            <div class="template-card bg-white rounded-xl overflow-hidden shadow-sm">
                                <div :class="viewMode === 'grid' ? 'flex flex-col' : 'flex flex-col md:flex-row'">
                                    <!-- Preview Image -->
                                    <div :class="viewMode === 'grid' ? 'w-full h-48' : 'w-full md:w-64 h-48'" class="bg-gray-200 flex-shrink-0"></div>
                                    
                                    <!-- Template Info -->
                                    <div class="flex-1 p-6">
                                        <div class="flex flex-col md:flex-row md:items-start justify-between">
                                            <div>
                                                <h3 class="text-lg font-semibold text-gray-900" x-text="template.name"></h3>
                                                <p class="text-sm text-gray-600 mt-1" x-text="template.description"></p>
                                            </div>
                                            <div class="flex flex-wrap gap-2 mt-4 md:mt-0">
                                                <span class="px-2 py-1 bg-blue-100 text-blue-600 rounded text-sm" x-text="template.category"></span>
                                                <span class="px-2 py-1 bg-gray-100 text-gray-600 rounded text-sm" x-text="template.price === 'free' ? 'Бесплатно' : 'Платный'"></span>
                                            </div>
                                        </div>
                                        
                                        <!-- Features -->
                                        <div class="mt-4 flex flex-wrap items-center gap-4">
                                            <div class="flex items-center space-x-1">
                                                <i data-lucide="eye" class="w-4 h-4 text-gray-400"></i>
                                                <span class="text-sm text-gray-600" x-text="template.views + ' просмотров'"></span>
                                            </div>
                                            <div class="flex items-center space-x-1">
                                                <i data-lucide="download" class="w-4 h-4 text-gray-400"></i>
                                                <span class="text-sm text-gray-600" x-text="template.downloads + ' загрузок'"></span>
                                            </div>
                                            <div class="flex items-center space-x-1">
                                                <i data-lucide="star" class="w-4 h-4 text-yellow-400"></i>
                                                <span class="text-sm text-gray-600" x-text="template.rating"></span>
                                            </div>
                                        </div>
                                        
                                        <!-- Actions -->
                                        <div class="mt-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
                                            <div class="flex flex-wrap gap-2">
                                                <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2">
                                                    <i data-lucide="eye" class="w-4 h-4"></i>
                                                    <span>Предпросмотр</span>
                                                </button>
                                                <button class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2">
                                                    <i data-lucide="download" class="w-4 h-4"></i>
                                                    <span>Выбрать</span>
                                                </button>
                                            </div>
                                            <div class="flex items-center space-x-2">
                                                <button class="p-2 text-gray-400 hover:text-gray-600 transition-colors">
                                                    <i data-lucide="heart" class="w-5 h-5"></i>
                                                </button>
                                                <button class="p-2 text-gray-400 hover:text-gray-600 transition-colors">
                                                    <i data-lucide="share-2" class="w-5 h-5"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </template>
                    </div>
                </main>
            </div>
        </div>
    </div>

    <!-- Alpine.js Logic -->
    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('templatesPage', () => ({
                search: '',
                viewMode: 'grid',
                isSidebarOpen: false,
                filters: {
                    categories: [],
                    price: 'all',
                    popularity: 'all'
                },
                init() {
                    // Инициализация иконок при загрузке
                    this.$nextTick(() => {
                        lucide.createIcons();
                    });

                    // Следим за изменениями фильтров
                    this.$watch('filters', () => {
                        this.$nextTick(() => {
                            lucide.createIcons();
                        });
                    });

                    // Следим за изменениями режима отображения
                    this.$watch('viewMode', () => {
                        this.$nextTick(() => {
                            lucide.createIcons();
                        });
                    });
                },
                templates: [
                    {
                        id: 1,
                        name: 'Салон красоты "Элегант"',
                        description: 'Современный шаблон для салонов красоты и спа-центров с онлайн-записью',
                        category: 'Красота',
                        price: 'paid',
                        views: 1250,
                        downloads: 342,
                        rating: '4.8'
                    },
                    {
                        id: 2,
                        name: 'Ресторан "Вкусно"',
                        description: 'Стильный шаблон для ресторанов и кафе с меню и бронированием столиков',
                        category: 'Рестораны',
                        price: 'paid',
                        views: 980,
                        downloads: 256,
                        rating: '4.9'
                    },
                    {
                        id: 3,
                        name: 'Бизнес-портал',
                        description: 'Профессиональный шаблон для корпоративных сайтов и бизнес-порталов',
                        category: 'Бизнес',
                        price: 'free',
                        views: 2100,
                        downloads: 789,
                        rating: '4.7'
                    },
                    {
                        id: 4,
                        name: 'Интернет-магазин',
                        description: 'Полнофункциональный шаблон для онлайн-магазинов с корзиной и оплатой',
                        category: 'Магазины',
                        price: 'paid',
                        views: 1560,
                        downloads: 432,
                        rating: '4.9'
                    },
                    {
                        id: 5,
                        name: 'Студия йоги "Гармония"',
                        description: 'Успокаивающий дизайн для студий йоги и медитации с расписанием занятий',
                        category: 'Красота',
                        price: 'free',
                        views: 890,
                        downloads: 234,
                        rating: '4.6'
                    },
                    {
                        id: 6,
                        name: 'Пиццерия "Италия"',
                        description: 'Аппетитный шаблон для пиццерий с онлайн-заказом и доставкой',
                        category: 'Рестораны',
                        price: 'paid',
                        views: 1450,
                        downloads: 378,
                        rating: '4.8'
                    },
                    {
                        id: 7,
                        name: 'Консалтинговая компания',
                        description: 'Строгий и профессиональный шаблон для консалтинговых услуг',
                        category: 'Бизнес',
                        price: 'paid',
                        views: 1780,
                        downloads: 456,
                        rating: '4.9'
                    },
                    {
                        id: 8,
                        name: 'Магазин одежды',
                        description: 'Стильный шаблон для магазинов одежды с каталогом и примерочной',
                        category: 'Магазины',
                        price: 'free',
                        views: 2100,
                        downloads: 567,
                        rating: '4.7'
                    },
                    {
                        id: 9,
                        name: 'Спа-центр "Релакс"',
                        description: 'Роскошный шаблон для спа-центров с бронированием процедур',
                        category: 'Красота',
                        price: 'paid',
                        views: 1320,
                        downloads: 345,
                        rating: '4.8'
                    }
                ],
                get filteredTemplates() {
                    return this.templates.filter(template => {
                        // Search filter
                        if (this.search && !template.name.toLowerCase().includes(this.search.toLowerCase()) &&
                            !template.description.toLowerCase().includes(this.search.toLowerCase())) {
                            return false;
                        }

                        // Category filter
                        if (this.filters.categories.length > 0) {
                            const templateCategory = template.category.toLowerCase();
                            if (!this.filters.categories.includes(templateCategory)) {
                                return false;
                            }
                        }

                        // Price filter
                        if (this.filters.price !== 'all' && template.price !== this.filters.price) {
                            return false;
                        }

                        // Popularity filter
                        if (this.filters.popularity !== 'all') {
                            switch (this.filters.popularity) {
                                case 'popular':
                                    if (template.views < 1000) return false;
                                    break;
                                case 'new':
                                    if (template.downloads > 100) return false;
                                    break;
                                case 'trending':
                                    if (template.rating < 4.8) return false;
                                    break;
                            }
                        }

                        return true;
                    });
                }
            }));
        });

        // Initialize Lucide Icons
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
        });
    </script>
</body>
</html> 